"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/upload-to-odoo";
exports.ids = ["pages/api/upload-to-odoo"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-to-odoo&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cupload-to-odoo.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-to-odoo&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cupload-to-odoo.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_upload_to_odoo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\upload-to-odoo.js */ \"(api)/./src/pages/api/upload-to-odoo.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_upload_to_odoo_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_upload_to_odoo_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/upload-to-odoo\",\n        pathname: \"/api/upload-to-odoo\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_upload_to_odoo_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVwbG9hZC10by1vZG9vJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUN1cGxvYWQtdG8tb2Rvby5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNpRTtBQUNqRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsNkRBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDZEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhY2lsaXR5bWFuYWdlbWVudGNoZWNrbGlzdC8/YmUxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFx1cGxvYWQtdG8tb2Rvby5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VwbG9hZC10by1vZG9vXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXBsb2FkLXRvLW9kb29cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-to-odoo&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cupload-to-odoo.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/upload-to-odoo.js":
/*!*****************************************!*\
  !*** ./src/pages/api/upload-to-odoo.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// pages/api/upload-to-odoo.js\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n    // 1) Récup input du front\n    const { assetId, pdfBase64, date, building_envelope, exterior_facilities, interior_areas, technical_equipment, sustainability_esg, significant_structural_defects, location_market_situation } = req.body || {};\n    if (!assetId || !pdfBase64) {\n        return res.status(400).json({\n            error: \"assetId et pdfBase64 requis\"\n        });\n    }\n    // 2) Mapping asset_id -> res_id (mets tes vraies correspondances ici)\n    const assetMap = {\n        \"AC1\": 1,\n        \"AC2\": 104,\n        \"AC3\": 147,\n        \"AC4\": 322,\n        \"AD1\": 2143,\n        \"AD2\": 2218,\n        \"AD3\": 2227\n    };\n    const resId = assetMap[assetId];\n    if (!resId) {\n        return res.status(400).json({\n            error: `Pas de mapping pour Asset ${assetId}`\n        });\n    }\n    // petit helper pour convertir NaN/undefined en null\n    const norm = (v)=>v === null || v === undefined || Number.isNaN(v) ? null : v;\n    // 3) Build payload Odoo pour créer l'attachement PDF\n    const payloadAttach = {\n        jsonrpc: \"2.0\",\n        method: \"call\",\n        params: {\n            service: \"object\",\n            method: \"execute_kw\",\n            args: [\n                process.env.ODOO_DB,\n                parseInt(process.env.ODOO_UID, 10),\n                process.env.ODOO_API_KEY,\n                \"ir.attachment\",\n                \"create\",\n                [\n                    {\n                        name: `Pruefbericht_${assetId}_${date || \"\"}.pdf`,\n                        datas: pdfBase64,\n                        mimetype: \"application/pdf\",\n                        res_model: \"property.property\",\n                        res_id: resId\n                    }\n                ]\n            ]\n        },\n        id: Date.now()\n    };\n    try {\n        // (A) créer l'attachement\n        const r = await fetch(`${process.env.ODOO_URL}/jsonrpc`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payloadAttach)\n        });\n        const data = await r.json();\n        if (data?.error) {\n            return res.status(500).json({\n                error: data.error\n            });\n        }\n        const attachmentId = data.result;\n        // (B) écrire les 7 champs sur property.property\n        const fieldsToWrite = {\n            building_envelope: norm(building_envelope),\n            exterior_facilities: norm(exterior_facilities),\n            interior_areas: norm(interior_areas),\n            technical_equipment: norm(technical_equipment),\n            sustainability_esg: norm(sustainability_esg),\n            significant_structural_defects: norm(significant_structural_defects),\n            location_market_situation: norm(location_market_situation)\n        };\n        const payloadWrite = {\n            jsonrpc: \"2.0\",\n            method: \"call\",\n            params: {\n                service: \"object\",\n                method: \"execute_kw\",\n                args: [\n                    process.env.ODOO_DB,\n                    parseInt(process.env.ODOO_UID, 10),\n                    process.env.ODOO_API_KEY,\n                    \"property.property\",\n                    \"write\",\n                    [\n                        [\n                            resId\n                        ],\n                        fieldsToWrite\n                    ]\n                ]\n            },\n            id: Date.now() + 1\n        };\n        const rw = await fetch(`${process.env.ODOO_URL}/jsonrpc`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payloadWrite)\n        });\n        const dataWrite = await rw.json();\n        if (dataWrite?.error) {\n            // on renvoie l'attachement OK + warning pour le write\n            return res.status(207).json({\n                attachmentId,\n                warning: \"PDF attach\\xe9 mais \\xe9chec write champs.\",\n                odooError: dataWrite.error\n            });\n        }\n        return res.status(200).json({\n            attachmentId,\n            writeOk: dataWrite.result === true\n        });\n    } catch (err) {\n        return res.status(500).json({\n            error: err.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2ZhY2lsaXR5bWFuYWdlbWVudGNoZWNrbGlzdC8uL3NyYy9wYWdlcy9hcGkvdXBsb2FkLXRvLW9kb28uanM/YWRjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvdXBsb2FkLXRvLW9kb28uanNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gXCJQT1NUXCIpIHtcclxuICAgIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBbXCJQT1NUXCJdKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4gIH1cclxuXHJcbiAgLy8gMSkgUsOpY3VwIGlucHV0IGR1IGZyb250XHJcbiAgY29uc3QgeyBhc3NldElkLCBwZGZCYXNlNjQsIGRhdGUsXHJcbiAgICBidWlsZGluZ19lbnZlbG9wZSxcclxuICAgIGV4dGVyaW9yX2ZhY2lsaXRpZXMsXHJcbiAgICBpbnRlcmlvcl9hcmVhcyxcclxuICAgIHRlY2huaWNhbF9lcXVpcG1lbnQsXHJcbiAgICBzdXN0YWluYWJpbGl0eV9lc2csXHJcbiAgICBzaWduaWZpY2FudF9zdHJ1Y3R1cmFsX2RlZmVjdHMsXHJcbiAgICBsb2NhdGlvbl9tYXJrZXRfc2l0dWF0aW9uXHJcbiAgfSA9IHJlcS5ib2R5IHx8IHt9O1xyXG5cclxuICBpZiAoIWFzc2V0SWQgfHwgIXBkZkJhc2U2NCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiYXNzZXRJZCBldCBwZGZCYXNlNjQgcmVxdWlzXCIgfSk7XHJcbiAgfVxyXG5cclxuICAvLyAyKSBNYXBwaW5nIGFzc2V0X2lkIC0+IHJlc19pZCAobWV0cyB0ZXMgdnJhaWVzIGNvcnJlc3BvbmRhbmNlcyBpY2kpXHJcbiAgY29uc3QgYXNzZXRNYXAgPSB7XHJcbiAgICBcIkFDMVwiOiAxLFxyXG4gICAgXCJBQzJcIjogMTA0LFxyXG4gICAgXCJBQzNcIjogMTQ3LFxyXG4gICAgXCJBQzRcIjogMzIyLFxyXG4gICAgXCJBRDFcIjogMjE0MyxcclxuICAgIFwiQUQyXCI6IDIyMTgsXHJcbiAgICBcIkFEM1wiOiAyMjI3XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzSWQgPSBhc3NldE1hcFthc3NldElkXTtcclxuICBpZiAoIXJlc0lkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogYFBhcyBkZSBtYXBwaW5nIHBvdXIgQXNzZXQgJHthc3NldElkfWAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBwZXRpdCBoZWxwZXIgcG91ciBjb252ZXJ0aXIgTmFOL3VuZGVmaW5lZCBlbiBudWxsXHJcbiAgY29uc3Qgbm9ybSA9ICh2KSA9PiAodiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQgfHwgTnVtYmVyLmlzTmFOKHYpID8gbnVsbCA6IHYpO1xyXG5cclxuICAvLyAzKSBCdWlsZCBwYXlsb2FkIE9kb28gcG91ciBjcsOpZXIgbCdhdHRhY2hlbWVudCBQREZcclxuICBjb25zdCBwYXlsb2FkQXR0YWNoID0ge1xyXG4gICAganNvbnJwYzogXCIyLjBcIixcclxuICAgIG1ldGhvZDogXCJjYWxsXCIsXHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgc2VydmljZTogXCJvYmplY3RcIixcclxuICAgICAgbWV0aG9kOiBcImV4ZWN1dGVfa3dcIixcclxuICAgICAgYXJnczogW1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk9ET09fREIsXHJcbiAgICAgICAgcGFyc2VJbnQocHJvY2Vzcy5lbnYuT0RPT19VSUQsIDEwKSxcclxuICAgICAgICBwcm9jZXNzLmVudi5PRE9PX0FQSV9LRVksXHJcbiAgICAgICAgXCJpci5hdHRhY2htZW50XCIsIFwiY3JlYXRlXCIsXHJcbiAgICAgICAgW3tcclxuICAgICAgICAgIG5hbWU6IGBQcnVlZmJlcmljaHRfJHthc3NldElkfV8ke2RhdGUgfHwgXCJcIn0ucGRmYCxcclxuICAgICAgICAgIGRhdGFzOiBwZGZCYXNlNjQsXHJcbiAgICAgICAgICBtaW1ldHlwZTogXCJhcHBsaWNhdGlvbi9wZGZcIixcclxuICAgICAgICAgIHJlc19tb2RlbDogXCJwcm9wZXJ0eS5wcm9wZXJ0eVwiLFxyXG4gICAgICAgICAgcmVzX2lkOiByZXNJZCxcclxuICAgICAgICB9XVxyXG4gICAgICBdXHJcbiAgICB9LFxyXG4gICAgaWQ6IERhdGUubm93KClcclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gKEEpIGNyw6llciBsJ2F0dGFjaGVtZW50XHJcbiAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuT0RPT19VUkx9L2pzb25ycGNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZEF0dGFjaCksXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByLmpzb24oKTtcclxuICAgIGlmIChkYXRhPy5lcnJvcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZGF0YS5lcnJvciB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGF0dGFjaG1lbnRJZCA9IGRhdGEucmVzdWx0O1xyXG5cclxuICAgIC8vIChCKSDDqWNyaXJlIGxlcyA3IGNoYW1wcyBzdXIgcHJvcGVydHkucHJvcGVydHlcclxuICAgIGNvbnN0IGZpZWxkc1RvV3JpdGUgPSB7XHJcbiAgICAgIGJ1aWxkaW5nX2VudmVsb3BlOiAgICAgICAgICAgICAgbm9ybShidWlsZGluZ19lbnZlbG9wZSksXHJcbiAgICAgIGV4dGVyaW9yX2ZhY2lsaXRpZXM6ICAgICAgICAgICAgbm9ybShleHRlcmlvcl9mYWNpbGl0aWVzKSxcclxuICAgICAgaW50ZXJpb3JfYXJlYXM6ICAgICAgICAgICAgICAgICBub3JtKGludGVyaW9yX2FyZWFzKSxcclxuICAgICAgdGVjaG5pY2FsX2VxdWlwbWVudDogICAgICAgICAgICBub3JtKHRlY2huaWNhbF9lcXVpcG1lbnQpLFxyXG4gICAgICBzdXN0YWluYWJpbGl0eV9lc2c6ICAgICAgICAgICAgIG5vcm0oc3VzdGFpbmFiaWxpdHlfZXNnKSxcclxuICAgICAgc2lnbmlmaWNhbnRfc3RydWN0dXJhbF9kZWZlY3RzOiBub3JtKHNpZ25pZmljYW50X3N0cnVjdHVyYWxfZGVmZWN0cyksXHJcbiAgICAgIGxvY2F0aW9uX21hcmtldF9zaXR1YXRpb246ICAgICAgbm9ybShsb2NhdGlvbl9tYXJrZXRfc2l0dWF0aW9uKSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcGF5bG9hZFdyaXRlID0ge1xyXG4gICAgICBqc29ucnBjOiBcIjIuMFwiLFxyXG4gICAgICBtZXRob2Q6IFwiY2FsbFwiLFxyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICBzZXJ2aWNlOiBcIm9iamVjdFwiLFxyXG4gICAgICAgIG1ldGhvZDogXCJleGVjdXRlX2t3XCIsXHJcbiAgICAgICAgYXJnczogW1xyXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuT0RPT19EQixcclxuICAgICAgICAgIHBhcnNlSW50KHByb2Nlc3MuZW52Lk9ET09fVUlELCAxMCksXHJcbiAgICAgICAgICBwcm9jZXNzLmVudi5PRE9PX0FQSV9LRVksXHJcbiAgICAgICAgICBcInByb3BlcnR5LnByb3BlcnR5XCIsIFwid3JpdGVcIixcclxuICAgICAgICAgIFtbcmVzSWRdLCBmaWVsZHNUb1dyaXRlXVxyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAgaWQ6IERhdGUubm93KCkgKyAxXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJ3ID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuT0RPT19VUkx9L2pzb25ycGNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZFdyaXRlKSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgZGF0YVdyaXRlID0gYXdhaXQgcncuanNvbigpO1xyXG5cclxuICAgIGlmIChkYXRhV3JpdGU/LmVycm9yKSB7XHJcbiAgICAgIC8vIG9uIHJlbnZvaWUgbCdhdHRhY2hlbWVudCBPSyArIHdhcm5pbmcgcG91ciBsZSB3cml0ZVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDcpLmpzb24oeyBcclxuICAgICAgICBhdHRhY2htZW50SWQsIFxyXG4gICAgICAgIHdhcm5pbmc6IFwiUERGIGF0dGFjaMOpIG1haXMgw6ljaGVjIHdyaXRlIGNoYW1wcy5cIixcclxuICAgICAgICBvZG9vRXJyb3I6IGRhdGFXcml0ZS5lcnJvciBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgYXR0YWNobWVudElkLCB3cml0ZU9rOiBkYXRhV3JpdGUucmVzdWx0ID09PSB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsInN0YXR1cyIsImVuZCIsImFzc2V0SWQiLCJwZGZCYXNlNjQiLCJkYXRlIiwiYnVpbGRpbmdfZW52ZWxvcGUiLCJleHRlcmlvcl9mYWNpbGl0aWVzIiwiaW50ZXJpb3JfYXJlYXMiLCJ0ZWNobmljYWxfZXF1aXBtZW50Iiwic3VzdGFpbmFiaWxpdHlfZXNnIiwic2lnbmlmaWNhbnRfc3RydWN0dXJhbF9kZWZlY3RzIiwibG9jYXRpb25fbWFya2V0X3NpdHVhdGlvbiIsImJvZHkiLCJqc29uIiwiZXJyb3IiLCJhc3NldE1hcCIsInJlc0lkIiwibm9ybSIsInYiLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc05hTiIsInBheWxvYWRBdHRhY2giLCJqc29ucnBjIiwicGFyYW1zIiwic2VydmljZSIsImFyZ3MiLCJwcm9jZXNzIiwiZW52IiwiT0RPT19EQiIsInBhcnNlSW50IiwiT0RPT19VSUQiLCJPRE9PX0FQSV9LRVkiLCJuYW1lIiwiZGF0YXMiLCJtaW1ldHlwZSIsInJlc19tb2RlbCIsInJlc19pZCIsImlkIiwiRGF0ZSIsIm5vdyIsInIiLCJmZXRjaCIsIk9ET09fVVJMIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiYXR0YWNobWVudElkIiwicmVzdWx0IiwiZmllbGRzVG9Xcml0ZSIsInBheWxvYWRXcml0ZSIsInJ3IiwiZGF0YVdyaXRlIiwid2FybmluZyIsIm9kb29FcnJvciIsIndyaXRlT2siLCJlcnIiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/upload-to-odoo.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-to-odoo&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cupload-to-odoo.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();